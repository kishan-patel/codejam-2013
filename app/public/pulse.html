<html>
  <head>
  <script src="http://localhost:5000/socket.io/socket.io.js"></script>
  <script src="js/jquery-2.0.3.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
  <script src="js/SlickGrid/lib/jquery.event.drag-2.2.js"></script>
  <script src="js/SlickGrid/slick.core.js"></script>
  <script src="js/SlickGrid/slick.grid.js"></script>
  <link rel="stylesheet" type="text/css" href="js/SlickGrid/slick.grid.css">
  <link rel="stylesheet" type="text/css" href="js/SlickGrid/css/smoothness/jquery-ui-1.8.16.custom.css">
  </head>
  <body>
  <ul class="nav nav-tabs">
    <li><a href="/">Home</a></li>
    <li><a href="/csv">CSV</a></li>
    <li class="active"><a href="#">Pulse-Live</a></li>
  </ul>
  <div class="jumbotron">
    <center> <h1>Pulse Live Stream</h1></center>
    <center><p>Please note grid will be display when data is sent through request</p></center>
  </div>
 <center> <div id="pulse-grid" style="width:95%; height: 500px"></div></center>
  <script>
    var count = 0;
    var socket = io.connect('http://localhost:5000');
    socket.on('pulse_exchange_connection',function(dataBlock){
      $("#pulse-grid").empty();
      var columns = [];
      if(dataBlock.length != 0){
        for(var key in dataBlock[0]){
          if(key == "seconds")
            continue;

          var obj ={};
          obj["id"] = key;
          obj["name"] = key;
          obj["field"] = key;
          columns.push(obj);
        }
      }
      var options = {
        enableColumnReorder:false,
        fullWidthRows:true,
        forceFitColumns:true
        };
      var grid = new Slick.Grid("#pulse-grid",dataBlock,columns,options);
//      var x = data;
      console.log(".");
    });
  </script>


  </body>
</html>
