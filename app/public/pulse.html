<html>
  <head>
  <link rel="stylesheet" type="text/css" media="screen" href="css/ui.jqgrid.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="css/jquery-ui-1.10.3.custom.css" />
  <script src="http://localhost:5000/socket.io/socket.io.js"></script>
  <script src="js/jquery-2.0.3.min.js"></script>
  <script src="js/jquery.jqGrid.src.js"></script>
  <script src="js/jquery-ui-1.10.3.custom.js"></script>
  <script src="js/bootstrap.js"></script>
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
  </head>
  <body>
  <ul class="nav nav-tabs">
    <li><a href="/">Home</a></li>
    <li><a href="/csv">CSV</a></li>
    <li class="active"><a href="#">Pulse-Live</a></li>
  </ul>
  <div class="jumbotron">
    <center> <h1>Pulse Live Stream</h1></center>
    <center><p>Please note grid will be display when data is sent through request</p></center>
  </div>
  <table id="grid"></table>
  <script>
    var count = 0;
    var socket = io.connect('http://localhost:5000');
    socket.on('pulse_exchange_connection',function(data){
   if(count == 0){
      var columns = [];
      var colModel = [];
      for(var key in data){
       columns.push(key); 
       var obj = {};
       obj["name"] = key;
       obj["index"] = key;
       colModel.push(obj);
      }
      jQuery("#grid").jqGrid({
          datatype: "local",
          height: 250,
          colNames:columns,
          colModel: colModel
          });
    count++;
    }else{
    count++;
    }
    jQuery("#grid").jqGrid('addRowData',count,data);
    var x = data;
    console.log(data);
    });
  </script>


  </body>
</html>
