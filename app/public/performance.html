<html>
  <head>
    <script src="http://localhost:5000/socket.io/socket.io.js"></script>
    <script src="js/jquery-2.0.3.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
    <link type="text/css" rel="stylesheet" href="css/graph.css"/>
    <link type="text/css" rel="stylesheet" href="css/legend.css"/>
    <link type="text/css" rel="stylesheet" href="css/detail.css"/>
    <script src="js/d3.v3.js"></script>
    <script src="js/rickshaw.js"></script>
  </head>
  <body>
  <ul class="nav nav-tabs">
    <li><a href="/">Home</a></li>
    <li><a href="/csv">CSV</a></li>
    <li class="active"><a href="#">Pulse-Live</a></li>
    <li><a href="/confidence-bound">Confidence-Bound</a></li>
    <li><a href="/ml-performance">ML-Performance</a></li>
  </ul>
  <div class="jumbotron">
    <center> <h1>Machine Learning Assesement</h1></center>
    <center>
      <p>Shows the actual power values from request and those generated by the 
      machine learning algorithm on the same input (i.e. the training set data was what was
      received in the pulse request). The ideal learning algorithm would produce lines that are right on top of each other.</p>
    </center>
  </div>
  <center><div id="performance-chart"></div><center>
  <script>
    // set the date we're counting down to
    var count = 0;
    var socket = io.connect('http://localhost:5000');
    socket.on('ml_data_connection',function(dataBlock){
      var series = [{
        data: dataBlock['train'],
        color: 'blue'
      },{
        data: dataBlock['test'],
        color: 'green'
      }]
      var graph = new Rickshaw.Graph({
        element: document.getElementById('performance-chart'),
        min: -1.1,
        width: 1000,
        renderer: 'line',
        series: series,
        interpolation: 'linear'
      });
      graph.render();
      
      var yAxis = new Rickshaw.Graph.Axis.Y({
        graph: graph
      });
      yAxis.render();
    });
    socket.emit('ml_performance_ready',{'ready':true});
  </script>
  </body>
</html>
